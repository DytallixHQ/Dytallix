# Dytallix Environment Configuration Template
# Copy this file to .env.<environment> and customize for your deployment

# ============================================================================
# CORE CONFIGURATION
# ============================================================================

# Environment (dev, staging, prod)
DYTALLIX_ENVIRONMENT=dev

# Logging configuration
DYTALLIX_LOG_LEVEL=info
DYTALLIX_LOG_FORMAT=json
DYTALLIX_DEBUG_MODE=false

# Application directories
DYTALLIX_DATA_DIR=/var/lib/dytallix
DYTALLIX_LOGS_DIR=/var/log/dytallix
DYTALLIX_BACKUP_DIR=/var/backups/dytallix
DYTALLIX_CONFIG_DIR=/etc/dytallix

# ============================================================================
# CRYPTOGRAPHY CONFIGURATION
# ============================================================================

# PQC key configuration
DYTALLIX_PQC_KEYS_PATH=/etc/dytallix/secrets/pqc_keys.json.enc
DYTALLIX_PQC_KEYS_ENCRYPTED=true
DYTALLIX_KEYS_PASSWORD=changeme

# Preferred algorithms
DYTALLIX_PREFERRED_SIGNATURE_ALGORITHM=Dilithium5
DYTALLIX_PREFERRED_KEM_ALGORITHM=Kyber1024

# Key rotation settings
DYTALLIX_KEY_ROTATION_INTERVAL=720
DYTALLIX_KEY_ROTATION_ENABLED=true
DYTALLIX_KEY_BACKUP_RETENTION=90

# Signature caching
DYTALLIX_SIGNATURE_CACHE_SIZE=1000
DYTALLIX_SIGNATURE_CACHE_TTL=300

# ============================================================================
# NETWORK CONFIGURATION
# ============================================================================

# Server binding
DYTALLIX_BIND_ADDRESS=0.0.0.0
DYTALLIX_PORT=8080
DYTALLIX_METRICS_PORT=9090
DYTALLIX_HEALTH_CHECK_PORT=8081

# P2P networking
DYTALLIX_P2P_PORT=30303
DYTALLIX_P2P_DISCOVERY_PORT=30304
DYTALLIX_P2P_MAX_PEERS=50
DYTALLIX_P2P_BOOTSTRAP_NODES=

# TLS configuration
DYTALLIX_REQUIRE_TLS=true
DYTALLIX_MIN_TLS_VERSION=1.2
DYTALLIX_TLS_CERT_FILE=/etc/dytallix/tls/server.crt
DYTALLIX_TLS_KEY_FILE=/etc/dytallix/tls/server.key
DYTALLIX_TLS_CA_FILE=/etc/dytallix/tls/ca.crt

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# Database connection
DYTALLIX_DB_HOST=localhost
DYTALLIX_DB_PORT=5432
DYTALLIX_DB_NAME=dytallix_dev
DYTALLIX_DB_USER=dytallix_dev
DYTALLIX_DB_PASSWORD=changeme
DYTALLIX_DB_SSL_MODE=prefer

# Connection pool settings
DYTALLIX_DB_MAX_CONNECTIONS=100
DYTALLIX_DB_MIN_CONNECTIONS=10
DYTALLIX_DB_CONNECTION_TIMEOUT=30
DYTALLIX_DB_IDLE_TIMEOUT=300

# Database URL (auto-generated)
DYTALLIX_DATABASE_URL=postgresql://${DYTALLIX_DB_USER}:${DYTALLIX_DB_PASSWORD}@${DYTALLIX_DB_HOST}:${DYTALLIX_DB_PORT}/${DYTALLIX_DB_NAME}?sslmode=${DYTALLIX_DB_SSL_MODE}

# ============================================================================
# VAULT CONFIGURATION
# ============================================================================

# Vault settings
DYTALLIX_USE_VAULT=false
VAULT_ADDR=https://vault.dytallix.local:8200
VAULT_TOKEN=changeme
DYTALLIX_VAULT_PATH=secret/dytallix/dev

# Vault authentication
VAULT_AUTH_METHOD=token
VAULT_ROLE_ID=
VAULT_SECRET_ID=
VAULT_NAMESPACE=

# Vault TLS settings
VAULT_CACERT=/etc/vault/tls/ca.crt
VAULT_CLIENT_CERT=/etc/vault/tls/client.crt
VAULT_CLIENT_KEY=/etc/vault/tls/client.key
VAULT_SKIP_VERIFY=false

# ============================================================================
# AI SERVICES CONFIGURATION
# ============================================================================

# AI service settings
DYTALLIX_AI_SERVICE_ENABLED=true
DYTALLIX_AI_SERVICE_BASE_URL=http://localhost:8000
DYTALLIX_AI_SERVICE_API_KEY=dev-api-key
DYTALLIX_AI_SERVICE_TIMEOUT=30
DYTALLIX_AI_SERVICE_MAX_RETRIES=3
DYTALLIX_AI_SERVICE_RETRY_DELAY=1000

# Risk scoring thresholds
DYTALLIX_AI_LOW_RISK_THRESHOLD=0.3
DYTALLIX_AI_HIGH_RISK_THRESHOLD=0.7
DYTALLIX_AI_FRAUD_THRESHOLD=0.8

# AI model configuration
DYTALLIX_AI_MODEL_NAME=dytallix-risk-model
DYTALLIX_AI_MODEL_VERSION=1.0
DYTALLIX_AI_PREDICTION_CACHE_TTL=300

# ============================================================================
# MONITORING AND OBSERVABILITY
# ============================================================================

# Metrics configuration
DYTALLIX_METRICS_ENABLED=true
DYTALLIX_METRICS_ENDPOINT=/metrics
DYTALLIX_METRICS_NAMESPACE=dytallix
DYTALLIX_METRICS_SUBSYSTEM=node

# Health check configuration
DYTALLIX_HEALTH_CHECK_ENABLED=true
DYTALLIX_HEALTH_CHECK_ENDPOINT=/health
DYTALLIX_READINESS_ENDPOINT=/ready
DYTALLIX_LIVENESS_ENDPOINT=/live

# Tracing configuration
DYTALLIX_TRACING_ENABLED=false
DYTALLIX_TRACING_ENDPOINT=http://jaeger:14268/api/traces
DYTALLIX_TRACING_SAMPLE_RATE=0.1

# Logging configuration
DYTALLIX_LOG_TIMESTAMP=true
DYTALLIX_LOG_CALLER=true
DYTALLIX_LOG_STACK_TRACE=true
DYTALLIX_LOG_STRUCTURED=true

# ============================================================================
# SECURITY CONFIGURATION
# ============================================================================

# Security settings
DYTALLIX_AUDIT_LOGGING=true
DYTALLIX_AUDIT_LOG_FILE=/var/log/dytallix/audit.log
DYTALLIX_AUDIT_LOG_MAX_SIZE=100MB
DYTALLIX_AUDIT_LOG_MAX_AGE=30

# Rate limiting
DYTALLIX_RATE_LIMIT_ENABLED=true
DYTALLIX_RATE_LIMIT_REQUESTS=1000
DYTALLIX_RATE_LIMIT_WINDOW=3600

# CORS configuration
DYTALLIX_CORS_ENABLED=true
DYTALLIX_CORS_ORIGINS=*
DYTALLIX_CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
DYTALLIX_CORS_HEADERS=Content-Type,Authorization,X-Requested-With

# ============================================================================
# PERFORMANCE CONFIGURATION
# ============================================================================

# Worker configuration
DYTALLIX_WORKER_THREADS=4
DYTALLIX_ASYNC_RUNTIME=tokio
DYTALLIX_BLOCKING_THREADS=16

# Memory configuration
DYTALLIX_MAX_MEMORY_USAGE=2GB
DYTALLIX_CACHE_SIZE=256MB
DYTALLIX_BUFFER_SIZE=64KB

# Timeout configuration
DYTALLIX_REQUEST_TIMEOUT=30
DYTALLIX_SHUTDOWN_TIMEOUT=30
DYTALLIX_KEEPALIVE_TIMEOUT=75

# ============================================================================
# BLOCKCHAIN CONFIGURATION
# ============================================================================

# Consensus configuration
DYTALLIX_CONSENSUS_ALGORITHM=pbft
DYTALLIX_BLOCK_TIME=5
DYTALLIX_BLOCK_SIZE_LIMIT=1MB
DYTALLIX_TRANSACTION_POOL_SIZE=10000

# Validation configuration
DYTALLIX_VALIDATE_SIGNATURES=true
DYTALLIX_VALIDATE_TRANSACTIONS=true
DYTALLIX_VALIDATE_BLOCKS=true

# Sync configuration
DYTALLIX_SYNC_ENABLED=true
DYTALLIX_SYNC_INTERVAL=30
DYTALLIX_SYNC_BATCH_SIZE=100

# ============================================================================
# DEVELOPMENT CONFIGURATION
# ============================================================================

# Development settings (only for dev environment)
DYTALLIX_DEV_MODE=true
DYTALLIX_HOT_RELOAD=true
DYTALLIX_MOCK_SERVICES=false
DYTALLIX_FAKE_DATA=false

# Test configuration
DYTALLIX_TEST_MODE=false
DYTALLIX_TEST_DATA_DIR=/tmp/dytallix-test
DYTALLIX_TEST_DATABASE_URL=postgresql://test:test@localhost:5432/dytallix_test

# ============================================================================
# ALERTING CONFIGURATION
# ============================================================================

# Alert thresholds
DYTALLIX_ALERT_CPU_THRESHOLD=80
DYTALLIX_ALERT_MEMORY_THRESHOLD=85
DYTALLIX_ALERT_DISK_THRESHOLD=90
DYTALLIX_ALERT_ERROR_RATE_THRESHOLD=5

# Notification settings
DYTALLIX_ALERT_WEBHOOK_URL=
DYTALLIX_ALERT_EMAIL_SMTP_HOST=
DYTALLIX_ALERT_EMAIL_SMTP_PORT=587
DYTALLIX_ALERT_EMAIL_FROM=
DYTALLIX_ALERT_EMAIL_TO=

# ============================================================================
# BACKUP CONFIGURATION
# ============================================================================

# Backup settings
DYTALLIX_BACKUP_ENABLED=true
DYTALLIX_BACKUP_INTERVAL=24h
DYTALLIX_BACKUP_RETENTION=30d
DYTALLIX_BACKUP_COMPRESSION=gzip
DYTALLIX_BACKUP_ENCRYPTION_KEY=changeme

# Backup storage
DYTALLIX_BACKUP_STORAGE_TYPE=local
DYTALLIX_BACKUP_STORAGE_PATH=/var/backups/dytallix
DYTALLIX_BACKUP_S3_BUCKET=
DYTALLIX_BACKUP_S3_REGION=
DYTALLIX_BACKUP_S3_ACCESS_KEY=
DYTALLIX_BACKUP_S3_SECRET_KEY=
