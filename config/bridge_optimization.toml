# Bridge Performance Monitoring Configuration
# Configuration for comprehensive monitoring and alerting system

monitoring:
  # Metrics collection settings
  metrics:
    collection_interval_seconds: 10
    retention_days: 30
    prometheus_endpoint: "localhost:9090"

  # Alert thresholds
  alerts:
    latency:
      warning_threshold_ms: 25000      # 25 seconds
      critical_threshold_ms: 35000     # 35 seconds
      evaluation_window_minutes: 5

    throughput:
      warning_threshold_tph: 450       # transactions per hour
      critical_threshold_tph: 400
      evaluation_window_minutes: 10

    error_rate:
      warning_threshold: 0.01          # 1%
      critical_threshold: 0.015        # 1.5%
      evaluation_window_minutes: 5

    resource_usage:
      cpu_warning_threshold: 0.80      # 80%
      cpu_critical_threshold: 0.95     # 95%
      memory_warning_threshold: 0.80
      memory_critical_threshold: 0.95

  # Dashboard configuration
  dashboard:
    refresh_interval_seconds: 30
    real_time_charts: true
    historical_data_retention_hours: 168  # 7 days

    # Chart configurations
    charts:
      - name: "Transaction Latency"
        type: "line"
        metrics: ["avg_latency", "p95_latency", "p99_latency"]
        time_range_hours: 24

      - name: "Throughput"
        type: "line"
        metrics: ["transactions_per_hour", "successful_transactions_per_hour"]
        time_range_hours: 24

      - name: "Error Rates"
        type: "area"
        metrics: ["error_rate", "timeout_rate", "network_error_rate"]
        time_range_hours: 24

      - name: "Bridge Health"
        type: "status"
        metrics: ["bridge_status", "relayer_status", "circuit_breaker_status"]

      - name: "Resource Usage"
        type: "gauge"
        metrics: ["cpu_usage", "memory_usage", "network_io", "disk_io"]

      - name: "AI Optimization"
        type: "table"
        metrics: ["recommended_batch_size", "recommended_concurrency", "optimization_confidence"]

# Bridge optimization configuration
[bridge.optimization]
# Development environment settings
batch_size = 5
max_concurrent_connections = 3
base_polling_interval_ms = 5000
max_retry_attempts = 3
ai_optimization_enabled = false

# Production environment settings (uncomment for production)
# batch_size = 20
# max_concurrent_connections = 10
# base_polling_interval_ms = 2000
# max_retry_attempts = 5
# ai_optimization_enabled = true

[bridge.network]
# Network configuration
cosmos_rpc = "https://rpc-test.osmosis.zone"
ethereum_rpc = "https://sepolia.infura.io/v3/YOUR_PROJECT_ID"
timeout_ms = 30000
connection_pool_size = 10

[bridge.performance]
# Performance targets
target_latency_ms = 30000
target_throughput_tph = 500
max_error_rate = 0.01

[bridge.ai_optimization]
# AI optimization settings
model_cache_dir = "/tmp/dytallix_ai_models"
training_data_retention_days = 90
confidence_threshold = 0.7
retraining_interval_hours = 24