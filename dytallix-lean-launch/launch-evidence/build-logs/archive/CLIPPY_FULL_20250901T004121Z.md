# Clippy Report â€” Errors: 55, Warnings: 16

warning: struct `BlockchainStats` is never constructed
  --> /Users/rickglenn/dytallix/blockchain-core/src/api/mod.rs:38:8
   |
38 | struct BlockchainStats { // removed underscore - struct is intended for API responses
   |        ^^^^^^^^^^^^^^^
   |
   = note: `#[warn(dead_code)]` on by default

warning: struct `PeerInfo` is never constructed
  --> /Users/rickglenn/dytallix/blockchain-core/src/api/mod.rs:58:8
   |
58 | struct PeerInfo { // removed underscore
   |        ^^^^^^^^

warning: struct `SystemStatus` is never constructed
  --> /Users/rickglenn/dytallix/blockchain-core/src/api/mod.rs:68:8
   |
68 | struct SystemStatus { // removed underscore
   |        ^^^^^^^^^^^^

warning: associated functions `new_transaction` and `status_update` are never used
   --> /Users/rickglenn/dytallix/blockchain-core/src/api/mod.rs:94:8
    |
85  | impl WebSocketMessage {
    | --------------------- associated functions in this implementation
...
94  |     fn new_transaction(tx: &TransactionDetails) -> Self {
    |        ^^^^^^^^^^^^^^^
...
102 |     fn status_update(status: &SystemStatus) -> Self {
    |        ^^^^^^^^^^^^^

warning: struct `TransactionResponse` is never constructed
   --> /Users/rickglenn/dytallix/blockchain-core/src/api/mod.rs:112:8
    |
112 | struct TransactionResponse { // removed underscore
    |        ^^^^^^^^^^^^^^^^^^^

warning: struct `TransactionDetails` is never constructed
   --> /Users/rickglenn/dytallix/blockchain-core/src/api/mod.rs:119:8
    |
119 | struct TransactionDetails { // removed underscore
    |        ^^^^^^^^^^^^^^^^^^

warning: fields `address`, `consensus_pubkey`, and `commission_rate` are never read
   --> /Users/rickglenn/dytallix/blockchain-core/src/api/mod.rs:141:5
    |
140 | struct _StakingRegisterRequest { // underscore
    |        ----------------------- fields in this struct
141 |     address: String,
    |     ^^^^^^^
142 |     consensus_pubkey: String,
    |     ^^^^^^^^^^^^^^^^
143 |     commission_rate: u16,
    |     ^^^^^^^^^^^^^^^
    |
    = note: `_StakingRegisterRequest` has a derived impl for the trait `Debug`, but this is intentionally ignored during dead code analysis

warning: fields `delegator`, `validator`, and `amount` are never read
   --> /Users/rickglenn/dytallix/blockchain-core/src/api/mod.rs:148:5
    |
147 | struct _StakingDelegateRequest { // underscore
    |        ----------------------- fields in this struct
148 |     delegator: String,
    |     ^^^^^^^^^
149 |     validator: String,
    |     ^^^^^^^^^
150 |     amount: u128,
    |     ^^^^^^
    |
    = note: `_StakingDelegateRequest` has a derived impl for the trait `Debug`, but this is intentionally ignored during dead code analysis

warning: fields `delegator` and `validator` are never read
   --> /Users/rickglenn/dytallix/blockchain-core/src/api/mod.rs:155:5
    |
154 | struct _StakingClaimRequest { // underscore
    |        -------------------- fields in this struct
155 |     delegator: String,
    |     ^^^^^^^^^
156 |     validator: String,
    |     ^^^^^^^^^
    |
    = note: `_StakingClaimRequest` has a derived impl for the trait `Debug`, but this is intentionally ignored during dead code analysis

warning: associated function `error` is never used
   --> /Users/rickglenn/dytallix/blockchain-core/src/api/mod.rs:192:8
    |
183 | impl<T> ApiResponse<T> {
    | ---------------------- associated function in this implementation
...
192 |     fn error(message: String) -> Self {
    |        ^^^^^

warning: fields `runtime` and `pqc_manager` are never read
  --> /Users/rickglenn/dytallix/blockchain-core/src/consensus/consensus_engine.rs:77:5
   |
76 | pub struct ConsensusEngine {
   |            --------------- fields in this struct
77 |     runtime: Arc<DytallixRuntime>,
   |     ^^^^^^^
78 |     pqc_manager: Arc<PQCManager>,
   |     ^^^^^^^^^^^
   |
   = note: `ConsensusEngine` has a derived impl for the trait `Debug`, but this is intentionally ignored during dead code analysis

warning: field `validators` is never read
   --> /Users/rickglenn/dytallix/blockchain-core/src/consensus/mod_clean.rs:220:5
    |
216 | pub struct ConsensusEngine {
    |            --------------- field in this struct
...
220 |     validators: Arc<RwLock<Vec<String>>>,
    |     ^^^^^^^^^^
    |
    = note: `ConsensusEngine` has a derived impl for the trait `Debug`, but this is intentionally ignored during dead code analysis

warning: associated functions `format_transfer_transaction_message` and `validate_transaction_signature_static` are never used
    --> /Users/rickglenn/dytallix/blockchain-core/src/consensus/mod_clean.rs:1205:8
     |
229  | impl ConsensusEngine {
     | -------------------- associated functions in this implementation
...
1205 |     fn format_transfer_transaction_message(tx: &TransferTransaction) -> Vec<u8> {
     |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
...
1213 |     fn validate_transaction_signature_static(
     |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: method `get_vault_path` is never used
   --> /Users/rickglenn/dytallix/blockchain-core/src/secrets/providers.rs:193:8
    |
153 | impl VaultProvider {
    | ------------------ method in this implementation
...
193 |     fn get_vault_path(&self, name: &str) -> String {
    |        ^^^^^^^^^^^^^^

warning: `dytallix-node` (lib) generated 14 warnings
    Checking dytallix-lean-node v0.1.0 (/Users/rickglenn/dytallix/dytallix-lean-launch/node)
error: method `set_oracle_latency_ms` is never used
   --> node/src/alerts.rs:564:12
    |
551 |     impl MockMetricsGatherer {
    |     ------------------------ method in this implementation
...
564 |         fn set_oracle_latency_ms(&self, latency: Option<f64>) {
    |            ^^^^^^^^^^^^^^^^^^^^^
    |
    = note: `-D dead-code` implied by `-D warnings`
    = help: to override `-D warnings` add `#[allow(dead_code)]`

error: function `create_mock_state` is never used
  --> node/src/mempool/gas_tests.rs:12:8
   |
12 |     fn create_mock_state() -> State {
   |        ^^^^^^^^^^^^^^^^^

error: this `impl` can be derived
   --> node/src/alerts.rs:170:1
    |
170 | / impl Default for RulesConfig {
171 | |     fn default() -> Self { Self { tps_drop: TpsDropConfig::default(), oracle_timeout: OracleTimeoutConfig::default(), validator_offline: ...
172 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#derivable_impls
    = note: `-D clippy::derivable-impls` implied by `-D warnings`
    = help: to override `-D warnings` add `#[allow(clippy::derivable_impls)]`
help: replace the manual implementation with a derive attribute
    |
150 + #[derive(Default)]
151 ~ pub struct RulesConfig {
    |

error: field assignment outside of initializer for an instance created with Default::default()
   --> node/src/gas.rs:497:9
    |
497 |         schedule2.transfer_base = 600; // Changed from 500
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
note: consider initializing the variable with `gas::GasSchedule { transfer_base: 600, ..Default::default() }` and removing relevant reassignments
   --> node/src/gas.rs:494:9
    |
494 |         let mut schedule2 = GasSchedule::default();
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#field_reassign_with_default
    = note: `-D clippy::field-reassign-with-default` implied by `-D warnings`
    = help: to override `-D warnings` add `#[allow(clippy::field_reassign_with_default)]`

error: redundant pattern matching, consider using `is_err()`
  --> node/src/rpc/mod.rs:49:12
   |
49 |     if let Err(_) = signed_tx.verify() {
   |     -------^^^^^^--------------------- help: try: `if signed_tx.verify().is_err()`
   |
   = note: this will change drop order of the result, as well as all temporaries
   = note: add `#[allow(clippy::redundant_pattern_matching)]` if this is important
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_pattern_matching
   = note: `-D clippy::redundant-pattern-matching` implied by `-D warnings`
   = help: to override `-D warnings` add `#[allow(clippy::redundant_pattern_matching)]`

error: redundant pattern matching, consider using `is_err()`
  --> node/src/rpc/mod.rs:54:12
   |
54 |     if let Err(_) = signed_tx.tx.validate(expected_chain_id) {
   |     -------^^^^^^------------------------------------------- help: try: `if signed_tx.tx.validate(expected_chain_id).is_err()`
   |
   = note: this will change drop order of the result, as well as all temporaries
   = note: add `#[allow(clippy::redundant_pattern_matching)]` if this is important
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_pattern_matching

error: variables can be used directly in the `format!` string
   --> node/src/rpc/mod.rs:198:42
    |
198 |                     ApiError::BadRequest(format!("policy violation: {}", msg))
    |                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
    = note: `-D clippy::uninlined-format-args` implied by `-D warnings`
    = help: to override `-D warnings` add `#[allow(clippy::uninlined_format_args)]`
help: change this to
    |
198 -                     ApiError::BadRequest(format!("policy violation: {}", msg))
198 +                     ApiError::BadRequest(format!("policy violation: {msg}"))
    |

error: variables can be used directly in the `format!` string
   --> node/src/rpc/mod.rs:484:13
    |
484 |             eprintln!("Governance submit error: {}", e);
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
    |
484 -             eprintln!("Governance submit error: {}", e);
484 +             eprintln!("Governance submit error: {e}");
    |

error: variables can be used directly in the `format!` string
   --> node/src/rpc/mod.rs:516:13
    |
516 |             eprintln!("Governance deposit error: {}", e);
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
    |
516 -             eprintln!("Governance deposit error: {}", e);
516 +             eprintln!("Governance deposit error: {e}");
    |

error: variables can be used directly in the `format!` string
   --> node/src/rpc/mod.rs:558:13
    |
558 |             eprintln!("Governance vote error: {}", e);
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
    |
558 -             eprintln!("Governance vote error: {}", e);
558 +             eprintln!("Governance vote error: {e}");
    |

error: variables can be used directly in the `format!` string
   --> node/src/rpc/mod.rs:572:13
    |
572 |             eprintln!("Governance get proposal error: {}", e);
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
    |
572 -             eprintln!("Governance get proposal error: {}", e);
572 +             eprintln!("Governance get proposal error: {e}");
    |

error: variables can be used directly in the `format!` string
   --> node/src/rpc/mod.rs:585:13
    |
585 |             eprintln!("Governance tally error: {}", e);
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
    |
585 -             eprintln!("Governance tally error: {}", e);
585 +             eprintln!("Governance tally error: {e}");
    |

error: variables can be used directly in the `format!` string
   --> node/src/rpc/mod.rs:632:70
    |
632 |                         ProposalType::ParameterChange { key, .. } => format!("ParameterChange({})", key)
    |                                                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
    |
632 -                         ProposalType::ParameterChange { key, .. } => format!("ParameterChange({})", key)
632 +                         ProposalType::ParameterChange { key, .. } => format!("ParameterChange({key})")
    |

error: variables can be used directly in the `format!` string
   --> node/src/rpc/mod.rs:658:13
    |
658 |             eprintln!("Failed to get proposals: {}", e);
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
    |
658 -             eprintln!("Failed to get proposals: {}", e);
658 +             eprintln!("Failed to get proposals: {e}");
    |

error: variables can be used directly in the `format!` string
   --> node/src/rpc/mod.rs:691:13
    |
691 |             eprintln!("Failed to get proposal votes: {}", e);
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
    |
691 -             eprintln!("Failed to get proposal votes: {}", e);
691 +             eprintln!("Failed to get proposal votes: {e}");
    |

error: variables can be used directly in the `format!` string
   --> node/src/rpc/mod.rs:710:13
    |
710 |             eprintln!("Failed to get voting power for {}: {}", address, e);
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
    |
710 -             eprintln!("Failed to get voting power for {}: {}", address, e);
710 +             eprintln!("Failed to get voting power for {address}: {e}");
    |

error: variables can be used directly in the `format!` string
   --> node/src/rpc/mod.rs:732:13
    |
732 |             eprintln!("Failed to get total voting power: {}", e);
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
    |
732 -             eprintln!("Failed to get total voting power: {}", e);
732 +             eprintln!("Failed to get total voting power: {e}");
    |

error: redundant closure
   --> node/src/rpc/mod.rs:943:18
    |
943 |         .map_err(|e| ApiError::BadRequest(e))?;
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: replace the closure with the function itself: `ApiError::BadRequest`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_closure
    = note: `-D clippy::redundant-closure` implied by `-D warnings`
    = help: to override `-D warnings` add `#[allow(clippy::redundant_closure)]`

error: redundant closure
   --> node/src/rpc/mod.rs:973:18
    |
973 |         .map_err(|e| ApiError::BadRequest(e))?;
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: replace the closure with the function itself: `ApiError::BadRequest`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_closure

error: variables can be used directly in the `format!` string
   --> node/src/runtime/emission.rs:137:9
    |
137 |         format!("emission:pool:{}", pool)
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
    |
137 -         format!("emission:pool:{}", pool)
137 +         format!("emission:pool:{pool}")
    |

error: variables can be used directly in the `format!` string
   --> node/src/runtime/emission.rs:145:9
    |
145 |         format!("emission:event:{}", height)
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
    |
145 -         format!("emission:event:{}", height)
145 +         format!("emission:event:{height}")
    |

error: manual `!RangeInclusive::contains` implementation
   --> node/src/runtime/governance.rs:542:20
    |
542 |                 if gas_limit < 1_000 || gas_limit > 100_000_000 {
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use: `!(1_000..=100_000_000).contains(&gas_limit)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#manual_range_contains
    = note: `-D clippy::manual-range-contains` implied by `-D warnings`
    = help: to override `-D warnings` add `#[allow(clippy::manual_range_contains)]`

error: manual `!RangeInclusive::contains` implementation
   --> node/src/runtime/governance.rs:563:20
    |
563 |                 if max_gas_per_block < 1_000_000 || max_gas_per_block > 1_000_000_000 {
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use: `!(1_000_000..=1_000_000_000).contains(&max_gas_per_block)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#manual_range_contains

error: variables can be used directly in the `format!` string
   --> node/src/runtime/governance.rs:594:22
    |
594 |             _ => Err(format!("Unknown parameter: {}", key)),
    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
    |
594 -             _ => Err(format!("Unknown parameter: {}", key)),
594 +             _ => Err(format!("Unknown parameter: {key}")),
    |

error: unnecessary use of `to_string`
   --> node/src/runtime/governance.rs:631:18
    |
631 |             .get("gov:last_proposal_id".to_string())
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use: `"gov:last_proposal_id"`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_to_owned
    = note: `-D clippy::unnecessary-to-owned` implied by `-D warnings`
    = help: to override `-D warnings` add `#[allow(clippy::unnecessary_to_owned)]`

error: unnecessary use of `to_string`
   --> node/src/runtime/governance.rs:657:18
    |
657 |             .get("gov:last_proposal_id".to_string())
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use: `"gov:last_proposal_id"`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_to_owned

error: unnecessary use of `to_string`
   --> node/src/runtime/governance.rs:665:13
    |
665 |             "gov:last_proposal_id".to_string(),
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use: `"gov:last_proposal_id"`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_to_owned

error: variables can be used directly in the `format!` string
   --> node/src/runtime/governance.rs:674:26
    |
674 |             .map_err(|e| format!("Failed to serialize proposal: {}", e))?;
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
    |
674 -             .map_err(|e| format!("Failed to serialize proposal: {}", e))?;
674 +             .map_err(|e| format!("Failed to serialize proposal: {e}"))?;
    |

error: variables can be used directly in the `format!` string
   --> node/src/runtime/governance.rs:678:26
    |
678 |             .map_err(|e| format!("Failed to store proposal: {}", e))?;
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
    |
678 -             .map_err(|e| format!("Failed to store proposal: {}", e))?;
678 +             .map_err(|e| format!("Failed to store proposal: {e}"))?;
    |

error: variables can be used directly in the `format!` string
   --> node/src/runtime/governance.rs:683:19
    |
683 |         let key = format!("gov:proposal:{}", proposal_id);
    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
    |
683 -         let key = format!("gov:proposal:{}", proposal_id);
683 +         let key = format!("gov:proposal:{proposal_id}");
    |

error: variables can be used directly in the `format!` string
   --> node/src/runtime/governance.rs:687:34
    |
687 |                     .map_err(|e| format!("Failed to deserialize proposal: {}", e))?;
    |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
    |
687 -                     .map_err(|e| format!("Failed to deserialize proposal: {}", e))?;
687 +                     .map_err(|e| format!("Failed to deserialize proposal: {e}"))?;
    |

error: variables can be used directly in the `format!` string
   --> node/src/runtime/governance.rs:691:27
    |
691 |             Err(e) => Err(format!("Failed to get proposal: {}", e)),
    |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
    |
691 -             Err(e) => Err(format!("Failed to get proposal: {}", e)),
691 +             Err(e) => Err(format!("Failed to get proposal: {e}")),
    |

error: variables can be used directly in the `format!` string
   --> node/src/runtime/governance.rs:698:50
    |
698 |             bincode::serialize(vote).map_err(|e| format!("Failed to serialize vote: {}", e))?;
    |                                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
    |
698 -             bincode::serialize(vote).map_err(|e| format!("Failed to serialize vote: {}", e))?;
698 +             bincode::serialize(vote).map_err(|e| format!("Failed to serialize vote: {e}"))?;
    |

error: variables can be used directly in the `format!` string
   --> node/src/runtime/governance.rs:702:26
    |
702 |             .map_err(|e| format!("Failed to store vote: {}", e))?;
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
    |
702 -             .map_err(|e| format!("Failed to store vote: {}", e))?;
702 +             .map_err(|e| format!("Failed to store vote: {e}"))?;
    |

error: variables can be used directly in the `format!` string
   --> node/src/runtime/governance.rs:707:19
    |
707 |         let key = format!("gov:vote:{}:{}", proposal_id, voter);
    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
    |
707 -         let key = format!("gov:vote:{}:{}", proposal_id, voter);
707 +         let key = format!("gov:vote:{proposal_id}:{voter}");
    |

error: variables can be used directly in the `format!` string
   --> node/src/runtime/governance.rs:712:26
    |
712 |             .map_err(|e| format!("Failed to check vote: {}", e))?
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
    |
712 -             .map_err(|e| format!("Failed to check vote: {}", e))?
712 +             .map_err(|e| format!("Failed to check vote: {e}"))?
    |

error: variables can be used directly in the `format!` string
   --> node/src/runtime/governance.rs:717:23
    |
717 |         let _prefix = format!("gov:vote:{}:", proposal_id);
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
    |
717 -         let _prefix = format!("gov:vote:{}:", proposal_id);
717 +         let _prefix = format!("gov:vote:{proposal_id}:");
    |

error: you seem to want to iterate on a map's keys
   --> node/src/runtime/governance.rs:726:32
    |
726 |         for (voter_addr, _) in &state.accounts {
    |                                ^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#for_kv_map
    = note: `-D clippy::for-kv-map` implied by `-D warnings`
    = help: to override `-D warnings` add `#[allow(clippy::for_kv_map)]`
help: use the corresponding method
    |
726 -         for (voter_addr, _) in &state.accounts {
726 +         for voter_addr in state.accounts.keys() {
    |

error: variables can be used directly in the `format!` string
   --> node/src/runtime/governance.rs:727:28
    |
727 |             let vote_key = format!("gov:vote:{}:{}", proposal_id, voter_addr);
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
    |
727 -             let vote_key = format!("gov:vote:{}:{}", proposal_id, voter_addr);
727 +             let vote_key = format!("gov:vote:{proposal_id}:{voter_addr}");
    |

error: unnecessary use of `to_string`
   --> node/src/runtime/governance.rs:742:18
    |
742 |             .get("gov:last_proposal_id".to_string())
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use: `"gov:last_proposal_id"`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_to_owned

error: variables can be used directly in the `format!` string
   --> node/src/runtime/governance.rs:753:26
    |
753 |             .map_err(|e| format!("Failed to serialize config: {}", e))?;
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
    |
753 -             .map_err(|e| format!("Failed to serialize config: {}", e))?;
753 +             .map_err(|e| format!("Failed to serialize config: {e}"))?;
    |

error: unnecessary use of `to_string`
   --> node/src/runtime/governance.rs:756:18
    |
756 |             .put("gov:config".to_string(), data)
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^ help: use: `"gov:config"`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_to_owned

error: variables can be used directly in the `format!` string
   --> node/src/runtime/governance.rs:757:26
    |
757 |             .map_err(|e| format!("Failed to store config: {}", e))?;
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
    |
757 -             .map_err(|e| format!("Failed to store config: {}", e))?;
757 +             .map_err(|e| format!("Failed to store config: {e}"))?;
    |

error: variables can be used directly in the `format!` string
   --> node/src/runtime/governance.rs:770:26
    |
770 |             .map_err(|e| format!("Failed to serialize deposit: {}", e))?;
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
    |
770 -             .map_err(|e| format!("Failed to serialize deposit: {}", e))?;
770 +             .map_err(|e| format!("Failed to serialize deposit: {e}"))?;
    |

error: variables can be used directly in the `format!` string
   --> node/src/runtime/governance.rs:774:26
    |
774 |             .map_err(|e| format!("Failed to store deposit: {}", e))?;
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
    |
774 -             .map_err(|e| format!("Failed to store deposit: {}", e))?;
774 +             .map_err(|e| format!("Failed to store deposit: {e}"))?;
    |

error: you seem to want to iterate on a map's keys
   --> node/src/runtime/governance.rs:783:36
    |
783 |         for (depositor_addr, _) in &state.accounts {
    |                                    ^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#for_kv_map
help: use the corresponding method
    |
783 -         for (depositor_addr, _) in &state.accounts {
783 +         for depositor_addr in state.accounts.keys() {
    |

error: variables can be used directly in the `format!` string
   --> node/src/runtime/governance.rs:784:31
    |
784 |             let deposit_key = format!("gov:deposit:{}:{}", proposal_id, depositor_addr);
    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
    |
784 -             let deposit_key = format!("gov:deposit:{}:{}", proposal_id, depositor_addr);
784 +             let deposit_key = format!("gov:deposit:{proposal_id}:{depositor_addr}");
    |

error: variables can be used directly in the `format!` string
   --> node/src/runtime/oracle/mod.rs:170:9
    |
170 |         eprintln!("Failed to apply oracle risk: {}", e);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
    |
170 -         eprintln!("Failed to apply oracle risk: {}", e);
170 +         eprintln!("Failed to apply oracle risk: {e}");
    |

error: variables can be used directly in the `format!` string
   --> node/src/runtime/oracle/mod.rs:204:25
    |
204 |             errors.push(format!("Record {}: risk_score out of range", idx));
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
    |
204 -             errors.push(format!("Record {}: risk_score out of range", idx));
204 +             errors.push(format!("Record {idx}: risk_score out of range"));
    |

error: variables can be used directly in the `format!` string
   --> node/src/runtime/oracle/mod.rs:216:33
    |
216 |                     errors.push(format!("Record {}: invalid signature", idx));
    |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
    |
216 -                     errors.push(format!("Record {}: invalid signature", idx));
216 +                     errors.push(format!("Record {idx}: invalid signature"));
    |

error: variables can be used directly in the `format!` string
   --> node/src/runtime/oracle/mod.rs:220:29
    |
220 |                 errors.push(format!("Record {}: missing required signature", idx));
    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
    |
220 -                 errors.push(format!("Record {}: missing required signature", idx));
220 +                 errors.push(format!("Record {idx}: missing required signature"));
    |

error: variables can be used directly in the `format!` string
   --> node/src/runtime/oracle/mod.rs:236:25
    |
236 |             errors.push(format!("Record {}: {}", idx, e));
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
    |
236 -             errors.push(format!("Record {}: {}", idx, e));
236 +             errors.push(format!("Record {idx}: {e}"));
    |

error: unneeded `return` statement
  --> node/src/state/mod.rs:56:13
   |
56 |             return Self { accounts: HashMap::new(), storage: Arc::new(storage) };
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return
   = note: `-D clippy::needless-return` implied by `-D warnings`
   = help: to override `-D warnings` add `#[allow(clippy::needless_return)]`
help: remove `return`
   |
56 -             return Self { accounts: HashMap::new(), storage: Arc::new(storage) };
56 +             Self { accounts: HashMap::new(), storage: Arc::new(storage) }
   |

error: could not compile `dytallix-lean-node` (lib) due to 49 previous errors
warning: build failed, waiting for other jobs to finish...
error: could not compile `dytallix-lean-node` (lib test) due to 53 previous errors
