# Vendored PQClean Sources

This directory vendors the minimal required PQClean implementations for the frontend WASM build.

Algorithms included:
- Dilithium (dilithium3, clean)
- Falcon (falcon-512, clean)
- SPHINCS+ (sphincs-sha2-128s-simple, clean)

Upstream source:
- Repository: https://github.com/PQClean/PQClean
- Release / Commit: <REPLACE_WITH_COMMIT_OR_TAG>
- Date Retrieved: <DATE>

Include the LICENSE from upstream PQClean root and any algorithm-specific LICENSE notices if required.

## Added Files
```
crypto_sign/dilithium3/clean/*
crypto_sign/falcon-512/clean/*
crypto_sign/sphincs-sha2-128s-simple/clean/*
wrappers/*.c (auto-generated by build script)
```

## Integrity Verification
After downloading upstream PQClean release tarball (e.g.):
```
export PQCLEAN_VER=v0.0.0  # example
curl -L -o pqclean.tar.gz https://github.com/PQClean/PQClean/archive/refs/tags/$PQCLEAN_VER.tar.gz
shasum -a 256 pqclean.tar.gz
```
Record the SHA-256 of the tarball here:
- PQClean tarball SHA256: <FILL_IN>

## Update Procedure
1. Replace existing scheme directories with new upstream versions.
2. Update commit/tag and tarball hash above.
3. Run `bash scripts/build_pqc_wasm.sh` (ensure Emscripten installed).
4. Commit updated WASM files + `src/crypto/pqc/manifest.json`.
5. Run tests: `npm run test:ui` (ensure KAT tests pass).

## Deterministic Build Notes
To improve reproducibility, build inside standardized container:
```
# Example Docker image with emscripten
emsdk/emsdk:3.1.57
```
Then run the build script inside that container and capture the resulting hashes.
